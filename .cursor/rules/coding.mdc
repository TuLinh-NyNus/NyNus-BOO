---
alwaysApply: true
---
# Clean Code Standards - Exam Bank System
## Essential Coding Guidelines for All Languages (Go, TypeScript, Dart)

## ğŸ¯ Priority Levels
- ğŸ”´ **Critical**: Must follow (CI/CD will fail)
- ğŸŸ¡ **High**: Should follow (Code review required)
- ğŸŸ¢ **Medium**: Recommended (Best practice)

## ğŸ“ Monorepo Architecture
```
exam-bank-system/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ backend/      # Go + gRPC backend
â”‚   â”œâ”€â”€ frontend/     # Next.js 14 + TypeScript frontend
â”‚   â””â”€â”€ mobile/       # Flutter + Dart mobile app
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ proto/        # gRPC proto definitions
â””â”€â”€ docs/             # Documentation & tracking
```

**âœ… DO**: Feature-based organization, gRPC for communication, clear separation
**âŒ DON'T**: Mix frontend/backend logic, duplicate code, circular dependencies

**ğŸ“– See**: `architecture.mdc` for detailed structure guidelines

---

## ğŸ”´ Critical Rules

### Language Policy
- âœ… Vietnamese for business logic & UI
- âœ… English for technical implementation & comments

### Function Limits
- **Size**: < 20 lines
- **Parameters**: < 4 (use object parameter)
- **Nesting**: < 3 levels (use early returns)
- **Files**: < 300 lines
- **Classes**: < 200 lines

### Principles
- Single Responsibility: 1 function = 1 purpose
- Early returns instead of deep nesting
- Throw exceptions, don't return null
- Use object parameters for multiple params

---

## ğŸŸ¡ High Priority Rules

### Naming Conventions
- Meaningful names (not: d, u, x)
- Clear purpose in name
- Use camelCase (variables), PascalCase (types/classes), SCREAMING_SNAKE_CASE (constants)

### Avoid Deep Nesting
- Use early returns for guard clauses
- Max 3 levels of nesting
- Throw errors early, don't nest validation

### Constants & Magic Numbers
- Define named constants for values
- Document why, not just what

---

## ğŸŸ¢ Medium Priority Rules

### Testing (Only When Requested)
- Only create automated tests if explicitly requested
- When needed: Go testing (backend), Jest (frontend), Flutter test (mobile)

### Performance
- Use pagination for large datasets
- Optimize algorithm complexity (avoid O(nÂ²))

### Security
- Sanitize user inputs
- Use Zod schemas (TS) or validator packages (Go/Dart)
- Implement role-based access control (RBAC)

---

## ğŸ“‹ Quick Reference

### File Naming by Platform
| Platform | Type | Convention | Example |
|----------|------|------------|---------|
| Go | All files | snake_case | `exam_service.go` |
| TypeScript | Components | kebab-case | `exam-card.tsx` |
| TypeScript | Services | kebab-case | `exam.service.ts` |
| TypeScript | Hooks | kebab-case | `use-exam-data.ts` |
| Dart | All files | snake_case | `exam_card.dart` |

**ğŸ“– See**: `architecture.mdc` for complete naming conventions

### Import Order
```typescript
// 1. External dependencies
import React from 'react';
import axios from 'axios';

// 2. Internal modules
import { UserService } from '@/services/user';
import { Button } from '@/components/ui';

// 3. Relative imports
import './styles.css';
```

### Error Messages
| Context | Language | Example |
|---------|----------|---------|
| User-facing | Vietnamese | `'Email khÃ´ng há»£p lá»‡'` |
| Developer | English | `'Database connection failed'` |

---

## âœ… Pre-commit Checklist
- [ ] Functions < 20 lines, < 4 parameters
- [ ] No debug statements (console.log, fmt.Println, print in production code)
- [ ] All type errors resolved (Go, TypeScript, Dart)
- [ ] Tests written only if explicitly requested
- [ ] Error handling implemented
- [ ] Input validation added
- [ ] No magic numbers (use constants)
- [ ] Meaningful variable/function names

## ğŸ” Code Review Checklist
- [ ] Single responsibility principle
- [ ] No deep nesting (< 3 levels)
- [ ] Proper error handling
- [ ] Security vulnerabilities checked
- [ ] Performance optimized
- [ ] Tests only if requested

---

**Key Features:**
- âœ… Multi-language support (Go, TypeScript, Dart)
- âœ… gRPC-based architecture
- âœ… Tests only when requested
- âœ… Quick reference tables
- âœ… Actionable checklists
