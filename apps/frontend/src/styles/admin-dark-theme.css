/*
 * Admin Dark Theme Enhancements
 * Cải thiện màu sắc và contrast cho admin panel
 *
 * @author NyNus Team
 * @version 1.0.0
 */

/* ===== HIDE DEV TOOLS ===== */
/* Hide TanStack Query DevTools that blocks content at bottom */
/* Updated for TanStack Query v5.74.4+ with more aggressive hiding */

/* Target all possible DevTools containers */
.tsqd-parent-container,
.tsqd-transitions-container,
.tsqd-open-btn-container,
.tsqd-open-btn,
.tsqd-main-panel,
.tsqd-devtools-panel,
.tsqd-devtools {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
  position: absolute !important;
  top: -9999px !important;
  left: -9999px !important;
  width: 0 !important;
  height: 0 !important;
  z-index: -9999 !important;
}

/* Hide any element with DevTools-related classes */
[class*="tsqd"],
[class*="tanstack"],
[class*="devtools"],
[class*="react-query-devtools"],
[data-testid*="devtools"],
[id*="devtools"],
[id*="tanstack"],
[id*="tsqd"] {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* Target DevTools by tag and attributes */
div[style*="position: fixed"][style*="bottom"],
div[style*="position: absolute"][style*="bottom"] {
  /* Only hide if it contains DevTools-related content */
}

/* Ensure Next.js Dev Tools don't interfere either */
button[class*="nextjs-portal"],
div[class*="nextjs-portal"] {
  display: none !important;
}

/* Additional safety net - hide any fixed positioned element at bottom that might be DevTools */
body > div:last-child[style*="position: fixed"][style*="bottom: 0"] {
  display: none !important;
}

/* Force hide React Query DevTools specifically */
#__REACT_QUERY_DEVTOOLS__ {
  display: none !important;
  visibility: hidden !important;
}

/* ===== ADMIN LAYOUT PROTECTION ===== */
/* Ensure admin content is never blocked by overlays */
.admin-panel {
  position: relative;
  z-index: 1;
}

.admin-panel main {
  /* Ensure main content area has proper bottom padding */
  padding-bottom: 2rem !important;
  /* Prevent any fixed positioned elements from overlapping */
  position: relative;
  z-index: 2;
}

/* Force any remaining DevTools to stay out of admin area */
body:has(.admin-panel) [class*="devtools"],
body:has(.admin-panel) [class*="tsqd"],
body:has(.admin-panel) [id*="devtools"] {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* Admin Panel Dark Theme Overrides - NEW COLOR SCHEME */
.dark .admin-panel {
  /* Ensure high contrast for admin interface */
  --admin-text-primary: #F7FAFC;
  --admin-text-secondary: #E2E8F0;
  --admin-text-muted: #A0AEC0;
  --admin-bg-primary: #0A0E1A;
  --admin-bg-secondary: #131B2B;
  --admin-bg-tertiary: #2D3748;
  --admin-border: #4A5568;
  /* NEW COLOR SCHEME - Tím làm màu chính */
  --admin-accent: #A259FF;
  --admin-accent-hover: #32197D;
}

/* Enhanced Card styling for admin */
.dark .admin-card {
  background-color: var(--admin-bg-secondary);
  border-color: var(--admin-border);
  color: var(--admin-text-primary);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
}

.dark .admin-card:hover {
  background-color: var(--admin-bg-tertiary);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
}

/* Enhanced Button styling for admin */
.dark .admin-button-primary {
  background-color: var(--admin-accent);
  color: var(--admin-bg-primary);
  border: 1px solid var(--admin-accent);
}

.dark .admin-button-primary:hover {
  background-color: var(--admin-accent-hover);
  border-color: var(--admin-accent-hover);
}

.dark .admin-button-secondary {
  background-color: var(--admin-bg-tertiary);
  color: var(--admin-text-primary);
  border: 1px solid var(--admin-border);
}

.dark .admin-button-secondary:hover {
  background-color: var(--admin-bg-secondary);
  border-color: var(--admin-text-muted);
}

/* Enhanced Badge styling for admin */
.dark .admin-badge-default {
  background-color: var(--admin-accent);
  color: var(--admin-bg-primary);
  border: 1px solid var(--admin-accent);
}

.dark .admin-badge-success {
  background-color: #48BB78;
  color: var(--admin-bg-primary);
  border: 1px solid #48BB78;
}

.dark .admin-badge-warning {
  background-color: #FDAD00;
  color: var(--admin-bg-primary);
  border: 1px solid #FDAD00;
}

.dark .admin-badge-error {
  background-color: #FD5653;
  color: var(--admin-bg-primary);
  border: 1px solid #FD5653;
}

.dark .admin-badge-secondary {
  background-color: var(--admin-bg-tertiary);
  color: var(--admin-text-primary);
  border: 1px solid var(--admin-border);
}

/* Enhanced Table styling for admin */
.dark .admin-table {
  background-color: var(--admin-bg-secondary);
  border-color: var(--admin-border);
}

.dark .admin-table-header {
  background-color: var(--admin-bg-tertiary);
  color: var(--admin-text-primary);
  border-bottom: 2px solid var(--admin-border);
}

.dark .admin-table-row {
  border-bottom: 1px solid var(--admin-border);
  color: var(--admin-text-primary);
}

.dark .admin-table-row:hover {
  background-color: var(--admin-bg-tertiary);
}

.dark .admin-table-cell {
  color: var(--admin-text-primary);
  padding: 12px 16px;
}

/* Enhanced Input styling for admin */
.dark .admin-input {
  background-color: var(--admin-bg-tertiary);
  border-color: var(--admin-border);
  color: var(--admin-text-primary);
}

.dark .admin-input:focus {
  border-color: var(--admin-accent);
  box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
}

.dark .admin-input::placeholder {
  color: var(--admin-text-muted);
}

/* Enhanced Icon styling for admin */
.dark .admin-icon-primary {
  color: var(--admin-text-primary);
}

.dark .admin-icon-secondary {
  color: var(--admin-text-secondary);
}

.dark .admin-icon-muted {
  color: var(--admin-text-muted);
}

.dark .admin-icon-accent {
  color: var(--admin-accent);
}

/* Enhanced Text styling for admin */
.dark .admin-text-primary {
  color: var(--admin-text-primary);
}

.dark .admin-text-secondary {
  color: var(--admin-text-secondary);
}

.dark .admin-text-muted {
  color: var(--admin-text-muted);
}

/* Enhanced Header styling for admin */
.dark .admin-header {
  background-color: var(--admin-bg-secondary);
  border-bottom: 1px solid var(--admin-border);
  color: var(--admin-text-primary);
}

/* Enhanced Sidebar styling for admin */
.dark .admin-sidebar {
  background-color: var(--admin-bg-secondary);
  border-right: 1px solid var(--admin-border);
  color: var(--admin-text-primary);
}

/* Enhanced Modal styling for admin */
.dark .admin-modal {
  background-color: var(--admin-bg-secondary);
  border: 1px solid var(--admin-border);
  color: var(--admin-text-primary);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
}

/* Enhanced Dropdown styling for admin */
.dark .admin-dropdown {
  background-color: var(--admin-bg-secondary);
  border: 1px solid var(--admin-border);
  color: var(--admin-text-primary);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
}

.dark .admin-dropdown-item:hover {
  background-color: var(--admin-bg-tertiary);
  color: var(--admin-text-primary);
}

/* Enhanced Tooltip styling for admin */
.dark .admin-tooltip {
  background-color: var(--admin-bg-primary);
  color: var(--admin-text-primary);
  border: 1px solid var(--admin-border);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
}

/* Enhanced Loading spinner for admin */
.dark .admin-spinner {
  border-color: var(--admin-border);
  border-top-color: var(--admin-accent);
}

/* Enhanced Alert styling for admin */
.dark .admin-alert-success {
  background-color: rgba(72, 187, 120, 0.1);
  border-color: #48BB78;
  color: #48BB78;
}

.dark .admin-alert-warning {
  background-color: rgba(253, 173, 0, 0.1);
  border-color: #FDAD00;
  color: #FDAD00;
}

.dark .admin-alert-error {
  background-color: rgba(253, 86, 83, 0.1);
  border-color: #FD5653;
  color: #FD5653;
}

.dark .admin-alert-info {
  background-color: rgba(91, 136, 185, 0.1);
  border-color: #5B88B9;
  color: #5B88B9;
}

/* Enhanced Scrollbar styling for admin */
.dark .admin-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: var(--admin-border) var(--admin-bg-secondary);
}

.dark .admin-scrollbar::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.dark .admin-scrollbar::-webkit-scrollbar-track {
  background: var(--admin-bg-secondary);
  border-radius: 4px;
}

.dark .admin-scrollbar::-webkit-scrollbar-thumb {
  background: var(--admin-border);
  border-radius: 4px;
}

.dark .admin-scrollbar::-webkit-scrollbar-thumb:hover {
  background: var(--admin-text-muted);
}

/* Enhanced Table Container for admin */
.dark .admin-table-container {
  background-color: var(--admin-bg-secondary);
  border: 1px solid var(--admin-border);
  border-radius: 8px;
  overflow: hidden;
  max-height: 80vh;
}

.dark .admin-table-scrollable {
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-width: thin;
  scrollbar-color: var(--admin-border) var(--admin-bg-secondary);
  position: relative;
}

.dark .admin-table-scrollable::-webkit-scrollbar {
  width: 6px;
}

.dark .admin-table-scrollable::-webkit-scrollbar-track {
  background: var(--admin-bg-secondary);
}

.dark .admin-table-scrollable::-webkit-scrollbar-thumb {
  background: var(--admin-border);
  border-radius: 3px;
}

.dark .admin-table-scrollable::-webkit-scrollbar-thumb:hover {
  background: var(--admin-text-muted);
}

/* Enhanced sticky header for admin tables */
.dark .admin-table-scrollable thead {
  position: sticky;
  top: 0;
  z-index: 20;
  background-color: var(--admin-bg-secondary);
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.dark .admin-table-scrollable th {
  position: sticky;
  top: 0;
  z-index: 20;
  background-color: var(--admin-bg-secondary);
  border-bottom: 2px solid var(--admin-border);
  font-weight: 600;
}

/* Enhanced sticky header for virtualized user table */
.dark .admin-table-container .sticky {
  background-color: var(--admin-bg-secondary) !important;
  border-bottom: 2px solid var(--admin-border) !important;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2) !important;
}

/* Fix double scrollbar issue - dark theme */
.dark .admin-layout-override {
  /* Ensure dark theme admin layout works properly */
  background-color: var(--admin-bg-primary) !important;
}

.dark .admin-users-page {
  height: 100%;
  overflow-y: auto;
}

.dark .admin-users-page .admin-table-scrollable {
  overflow-y: auto;
  overflow-x: hidden;
}

/* Light theme sticky header support */
.admin-table-scrollable {
  position: relative;
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-width: thin;
}

.admin-table-scrollable thead {
  position: sticky;
  top: 0;
  z-index: 20;
  background-color: hsl(var(--background));
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.admin-table-scrollable th {
  position: sticky;
  top: 0;
  z-index: 20;
  background-color: hsl(var(--background));
  border-bottom: 2px solid hsl(var(--border));
  font-weight: 600;
}

/* Enhanced sticky header for virtualized user table - light theme */
.admin-table-container .sticky {
  background-color: hsl(var(--background)) !important;
  border-bottom: 2px solid hsl(var(--border)) !important;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
}

/* Fix double scrollbar issue - Admin Layout Override */
.admin-layout-override {
  /* Override MainLayout completely */
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  z-index: 50 !important;
}

/* Ensure admin pages have proper scrolling */
.admin-users-page {
  height: 100%;
  overflow-y: auto;
}

.admin-users-page .admin-table-scrollable {
  overflow-y: auto;
  overflow-x: hidden;
}

/* ===== ADMIN UNIFIED BACKGROUND UTILITIES ===== */
/* Utility classes cho màu nền thống nhất trong admin */

.admin-unified-bg {
  background-color: var(--admin-bg-secondary) !important;
  border-color: var(--admin-border) !important;
}

.dark .admin-unified-bg {
  background-color: var(--admin-bg-secondary) !important;
  border-color: var(--admin-border) !important;
  color: var(--admin-text-primary) !important;
}

/* Loại bỏ gradient backgrounds cho admin cards */
.admin-unified-card {
  background: var(--admin-bg-secondary) !important;
  background-image: none !important;
  border-color: var(--admin-border) !important;
}

.dark .admin-unified-card {
  background: var(--admin-bg-secondary) !important;
  background-image: none !important;
  border-color: var(--admin-border) !important;
  color: var(--admin-text-primary) !important;
}
